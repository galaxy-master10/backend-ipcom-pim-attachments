services:
  attachment-expiry-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ipcom-attachment-expiry
    environment:
      - DOTNET_ENVIRONMENT=Production
      - ConnectionStrings__DefaultConnection=Server=host.docker.internal,1433;Database=Digit.Pim;User Id=SA;Password=#said8500;TrustServerCertificate=True;
    volumes:
      - ./logs:/app/logs
    restart: unless-stopped
    # Use network_mode host to connect to localhost services
    network_mode: host